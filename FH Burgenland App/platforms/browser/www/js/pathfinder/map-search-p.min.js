var mapSearchPinkafeld=function(){var t,n,e,r,i,u,o=[document.getElementById("heg0Map"),document.getElementById("hog1Map"),document.getElementById("seg0Map"),document.getElementById("sog1Map"),document.getElementById("leg0Map"),document.getElementById("log1Map")],c=new Graph(grid4),s=grid4.length,d=grid4[0].length,a=new Graph(grid5),l=grid5.length,g=grid5[0].length,h=new Graph(grid6),f=grid6.length,p=grid6[0].length,m=new Graph(grid7),v=grid7.length,y=grid7[0].length,w=new Graph(grid8),S=grid8.length,E=grid8[0].length,M=new Graph(grid9),k=grid9.length,G=grid9[0].length,b=[c,a,h,m,w,M],L=[s,l,f,v,S,k],B=[d,g,p,y,E,G],I=[grid4,grid5,grid6,grid7,grid8,grid9],H=[],P=0;function T(){"use strict";return"start"}function x(){"use strict";return"path"}function C(){"use strict";return"end"}function O(){"use strict";return"ani"}function D(){"use strict";return"waypoint"}function F(){"use strict";return"0"}function z(){"use strict";return"1"}function A(){"use strict";return"2"}function N(){"use strict";return"3"}function j(){"use strict";return"4"}function q(){"use strict";return"5"}function J(){"use strict";return"#heg0Map"}function K(){"use strict";return"#hog1Map"}function Q(){"use strict";return"#leg0Map"}function R(){"use strict";return"#log1Map"}function U(){"use strict";return"#seg0Map"}function V(){"use strict";return"#sog1Map"}function W(){"use strict";return"#stairs"}function X(){"use strict";return"#building"}function Y(){"use strict";return"div"}function Z(){"use strict";return"grid-box"}function _(){"use strict";return"%"}function tt(){"use strict";return", "}function nt(){"use strict";return","}function et(){"use strict";return"[\\?&]"}function rt(){"use strict";return"=([^&#]*)"}function it(){"use strict";return 13}function ut(){"use strict";return 0}function ot(){"use strict";return 12}function ct(){"use strict";return 5}function st(){"use strict";return 3}function dt(){"use strict";return 2}function at(){"use strict";return 10}function lt(){"use strict";return 20}function gt(){"use strict";return 7}function ht(){"use strict";return 9}function ft(){"use strict";return 14}function pt(t){"use strict";var n=document.createDocumentFragment(),e=0,r,i,u;for(e=0;e<L[t];e+=1){for(i=[],u=0;u<B[t];u+=1)0!==I[t][e][u]&&((r=document.createElement(Y())).className=Z(),r.style.left=100/B[t]*u+_(),r.style.top=100/L[t]*e+_(),r.title=e+tt()+u,n.appendChild(r),i[u]=r);H[t][e]=i}o[t].appendChild(n)}var $t=o.length,mt;for(P=0;P<$t;P+=1)H[P]=[],pt(P);function vt(t){"use strict";$(W()).hide(),$(X()).hide(),t===F()?($(J()).show(),$(K()).hide(),$(Q()).hide(),$(R()).hide(),$(U()).hide(),$(V()).hide()):t===z()?($(J()).hide(),$(K()).show(),$(Q()).hide(),$(R()).hide(),$(U()).hide(),$(V()).hide()):t===j()?($(J()).hide(),$(K()).hide(),$(Q()).show(),$(R()).hide(),$(U()).hide(),$(V()).hide()):t===q()?($(J()).hide(),$(K()).hide(),$(Q()).hide(),$(R()).show(),$(U()).hide(),$(V()).hide()):t===A()?($(J()).hide(),$(K()).hide(),$(Q()).hide(),$(R()).hide(),$(U()).show(),$(V()).hide()):t===N()&&($(J()).hide(),$(K()).hide(),$(Q()).hide(),$(R()).hide(),$(U()).hide(),$(V()).show())}function yt(t,n){"use strict";t&&!n?($(W()).show(),$(X()).hide()):n&&!t?($(W()).hide(),$(X()).show()):n||t||($(W()).hide(),$(X()).hide())}function wt(t,n,e,r){"use strict";var i="";return 0===t?i=T():t<n-1?i=x():(i=C(),yt(e,r)),i}function St(n,t,e,r,i,u){"use strict";var o=astar.search(b[n],t,e),c=o.length,s="",d=0;for(d=0;d<c;d+=1)u?function(t){setTimeout(function(){s=wt(t,c,r,i),H[n][o[t].x][o[t].y].classList.add(D(),s)},100*t)}(d):(s=wt(d,c,r,i),H[n][o[d].x][o[d].y].classList.add(D(),s))}function Et(t){"use strict";return t===F()?it():t===z()?ot():t===A()||t===j()?ct():t===N()?at():t===q()?gt():void 0}function Mt(t){"use strict";return t===F()||t===z()?ut():t===A()?st():t===N()?dt():t===j()?lt():t===q()?ht():void 0}function kt(t){"use strict";return t===F()?gt():t===A()?dt():t===j()?it():void 0}function Gt(t){"use strict";return t===F()?ht():t===A()?ft():t===j()?ct():void 0}function bt(t){"use strict";return t===z()?F():t===N()?A():t===q()?j():void 0}function Lt(t){"use strict";var n="Gehe zum ";return t===z()||t===F()?n+="Hauptgebäude!":t===N()||t===A()?n+="Seminartrakt!":t!==q()&&t!==j()||(n+="Labortrakt!"),n}function Bt(t){"use strict";return t===F()||t===A()||t===j()}function It(t,n,e,r,i,u,o){"use strict";var c=0,s=0,d=0,a=0,l=0,g=0,h=n,f=e,p=u,m=i,v=r,y="";s=Et(t.toString()),c=Mt(t.toString()),a=Et(r.toString()),d=Mt(r.toString()),l=b[t].grid[f][h],g=b[t].grid[s][c],St(t,l,g,!0,!1,o),y=v===F()||v===A()||v===j()?"Gehe ins Erdgeschoß!":"Gehe ins Obergeschoß!",$("#stairs").append(y).off("click touch").on("click touch",function(){vt(r),l=b[r].grid[a][d],g=b[r].grid[p][m],St(r,l,g,!1,!1,o)})}function Ht(t,n,e,r,i,u,o){"use strict";var c=0,s=0,d=0,a=0,l="Gehe ins Erdgeschoß!",g="",h=!1,f=0,p=0,m=0,v=0,y=0,w=0;d=b[t].grid[e][n],c=Mt(t),s=Et(t),g=Lt(r),t!==F()&&t!==A()&&t!==j()?(a=b[t].grid[s][c],St(t,d,a,!0,!1,o),$(W()).append(l).off("click touch").on("click touch",function(){vt(f=bt(t)),c=Mt(f),s=Et(f),p=kt(f),m=Gt(f),d=b[f].grid[s][c],a=b[f].grid[m][p],St(f,d,a,!1,!0,o),setTimeout(function(){h=!0},500)}),$(X()).append(g).off("click touch").on("click touch",function(){h&&(Bt(r)?(vt(r),v=kt(r),y=Gt(r),d=b[r].grid[y][v],a=b[r].grid[u][i],St(r,d,a,!1,!1,o)):(p=kt((w=r-1).toString()),m=Gt(w.toString()),vt(w.toString()),g="",$("#stairs").hide().html('<span class="glyphicon glyphicon-circle-arrow-up" aria-hidden="true"></span>'),It(w,p,m,r,i,u,o)))})):Bt(t)&&(v=kt(t.toString()),y=Gt(t.toString()),n===v.toString()&&e===y.toString()&&(t===F()?y-=1:v-=1),a=b[t].grid[y][v],St(t,d,a,!1,!0,o),$(X()).append(g).off("click touch").on("click touch",function(){Bt(r)?(vt(r),v=kt(r),y=Gt(r),d=b[r].grid[y][v],a=b[r].grid[u][i],St(r,d,a,!1,!1,o)):(p=kt((w=r-1).toString()),m=Gt(w.toString()),vt(w.toString()),g="",$("#stairs").hide().html('<span class="glyphicon glyphicon-circle-arrow-up" aria-hidden="true"></span>'),It(w,p,m,r,i,u,o))}))}function Pt(t,n,e,r,i,u,o){"use strict";$(".grid-box").removeClass("start end waypoint path"),$("#stairs").hide().html('<span class="glyphicon glyphicon-circle-arrow-up" aria-hidden="true"></span>'),$("#building").hide().html('<span class="glyphicon glyphicon-circle-arrow-up" aria-hidden="true"></span>'),vt(t);var c=e,s=n,d=u,a=i,l=0,g=0;l=b[t].grid[c][s],t===r?St(r,l,g=b[r].grid[d][a],!1,!1,o):t===F()&&r===z()||t===z()&&r===F()||t===A()&&r===N()||t===N()&&r===A()||t===j()&&r===q()||t===q()&&r===j()?It(t,n,e,r,i,u,o):Ht(t,n,e,r,i,u,o)}function Tt(){var t,n,e,r,i,u,o,c,s,d;for(s="room-list-start-p",d="room-list-end-p",t=document.getElementById(s),n=$.urlParam("start"),o=0;o<t.options.length;o+=1)(i=t.options[o]).value===n?i.selected=!0:i.selected=!1;for(e=document.getElementById(d),r=$.urlParam("end"),c=0;c<e.options.length;c+=1)(u=e.options[c]).value===r?u.selected=!0:u.selected=!1}function xt(){var t,n,e="",r="",i="",u="",o="",c="",s="",d=!0,a=0,l,g="";for(t=document.getElementById("room-list-start-p"),n=document.getElementById("room-list-end-p"),a=0;a<levelsP.length;a+=1)"0"===(l=levelsP[a].split(";"))[1]&&""===r?(g="Hauptgebäude EG",r="full"):"1"===l[1]&&""===i?(g="Hautgebäude DG",i="full"):"2"===l[1]&&""===u?(g="Seminartrakt EG",u="full"):"3"===l[1]&&""===o?(g="Seminartrakt 1. OG",o="full"):"4"===l[1]&&""===c?(g="Labortrakt EG",c="full"):"5"===l[1]&&""===s&&(g="Labortrakt 1. OG",s="full"),null!==g&&(d?d=!1:(t.innerHTML+="</optgroup>",n.innerHTML+="</optgroup>"),t.innerHTML+='<optgroup label="'+g+'">',n.innerHTML+='<optgroup label="'+g+'">',g=null),t.innerHTML+="<option value="+l[1]+","+l[3]+","+l[2]+">"+l[0]+"</option>",n.innerHTML+="<option value="+l[1]+","+l[3]+","+l[2]+">"+l[0]+"</option>"}function Ct(){"use strict";var t=$.urlParam(T()).split(nt()),n=$.urlParam(C()).split(nt()),e,r=!1;r="true"===$.urlParam(O()),Pt(t[0],t[1],t[2],n[0],n[1],n[2],r)}return function(){var t;$("#btnSearchE").on("click touchend",checkStartAndEnd),xt(),vt(groundFloor())}(),{search:Ct}};