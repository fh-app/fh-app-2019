"use strict";var mapSearchEisenstadt=function(){var n,e,t,i,r=[document.getElementById("eg0Map"),document.getElementById("og1Map"),document.getElementById("og2Map"),document.getElementById("tb3Map")],o=new Graph(grid0),u=grid0.length,d=grid0[0].length,c=new Graph(grid1),a=grid1.length,l=grid1[0].length,g=new Graph(grid2),h=grid2.length,s=grid2[0].length,p=new Graph(grid3),f=grid3.length,m=grid3[0].length,v=[o,c,g,p],M=[u,a,h,f],b=[d,l,s,m],w=[grid0,grid1,grid2,grid3],y=[],E=0,T,k;function G(){return"start"}function B(){return"path"}function H(){return"end"}function L(){return"ani"}function I(){return"waypoint"}function N(){return"0"}function C(){return"1"}function S(){return"2"}function x(){return"3"}function z(){return"#eg0Map"}function D(){return"#og1Map"}function A(){return"#og2Map"}function U(){return"#tb3Map"}function Z(){return"#stairs"}function O(){return"#building"}function W(){return"div"}function F(){return"grid-box"}function R(){return"%"}function j(){return", "}function q(){return","}function J(){return"[\\?&]"}function K(){return"=([^&#]*)"}function P(){return 4}function Q(){return 8}function V(){return 19}function X(){return 21}function Y(){return 1}function _(){return 0}function nn(){return 23}function en(){return 23}function tn(n){var e=document.createDocumentFragment(),t=0,i,o,u;for(t=0;t<M[n];t+=1){for(o=[],u=0;u<b[n];u+=1)0!==w[n][t][u]&&((i=document.createElement("div")).className="grid-box",i.style.left=100/b[n]*u+"%",i.style.top=100/M[n]*t+"%",i.title=t+", "+u,e.appendChild(i),o[u]=i);y[n][t]=o}r[n].appendChild(e)}var rn=r.length,on;for(E=0;E<rn;E+=1)y[E]=[],tn(E);function un(n){$("#stairs").hide(),$("#building").hide(),"0"===n?($("#eg0Map").show(),$("#og1Map").hide(),$("#og2Map").hide(),$("#tb3Map").hide()):"1"===n?($("#eg0Map").hide(),$("#og1Map").show(),$("#og2Map").hide(),$("#tb3Map").hide()):"2"===n?($("#eg0Map").hide(),$("#og1Map").hide(),$("#og2Map").show(),$("#tb3Map").hide()):"3"===n&&($("#eg0Map").hide(),$("#og1Map").hide(),$("#og1Map").hide(),$("#tb3Map").show())}function dn(n,e){n&&!e?($("#stairs").show(),$("#building").hide()):e&&!n?($("#stairs").hide(),$("#building").show()):e||n||($("#stairs").hide(),$("#building").hide())}function cn(n,e,t,i){var r="";return 0===n?r="start":n<e-1?r="path":(r="end",dn(t,i)),r}function an(n,e,t,i,r,o){var u=astar.search(v[n],e,t),d=u.length,c="",a=0;for(a=0;a<d;a+=1)o?function(e){setTimeout(function(){c=cn(e,d,i,r),y[n][u[e].x][u[e].y].classList.add("waypoint",c)},60*e)}(a):(c=cn(a,d,i,r),y[n][u[a].x][u[a].y].classList.add("waypoint",c))}function ln(n){var e=0,t=0,i=Number(n);return(e=i>4?i-4:4-i)<(t=i>19?i-19:19-i)?4:t<e?19:void 0}function gn(n){var e=0,t=0,i=Number(n);return(e=i>8?i-8:8-i)<(t=i>21?i-21:21-i)?8:t<e?21:void 0}function hn(n,e,t,i,r,o,u){var d=0,c=0,a=0,l=0,g=e,h=t,s=o,p=r,f=i,m="";c=ln(h),d=gn(g),a=v[n].grid[h][g],l=v[n].grid[c][d],an(n,a,l,!0,!1,u),m="0"===f?"Gehe ins Erdgeschoß!":"Gehe in den "+f+". Stock!",$("#stairs").append(m).off("click touch").on("click touch",function(){un(i),a=v[i].grid[c][d],l=v[i].grid[s][p],an(i,a,l,!1,!1,u)})}function sn(n,e,t,i,r,o,u){var d=0,c=0,a=0,l=0,g="Gehe ins Erdgeschoß!",h="Gehe zum Techlab!",s=!1;a=v[n].grid[t][e],"0"!==n?(c=ln(t),d=gn(e),l=v[n].grid[c][d],an(n,a,l,!0,!1,u),$("#stairs").append(g).off("click touch").on("click touch",function(){un("0"),a=v[0].grid[c][d],l=v[0].grid[0][1],an("0",a,l,!1,!0,u),setTimeout(function(){s=!0},500)}),$("#building").append(h).off("click touch").on("click touch",function(){s&&(un(i),a=v[3].grid[23][23],l=v[i].grid[o][r],an(i,a,l,!1,!1,u))})):"0"===n&&(l=v[n].grid[0][1],an(n,a,l,!1,!0,u),$("#building").append(h).off("click touch").on("click touch",function(){un(i),a=v[3].grid[23][23],l=v[i].grid[o][r],an(i,a,l,!1,!1,u)}))}function pn(n,e,t,i,r,o,u){var d=0,c=0,a="Gehe zum Hauptgebäude!";d=v[n].grid[t][e],c=v[3].grid[23][23],an(n,d,c,!1,!0,u),$("#building").append(a).off("click touch").on("click touch",function(){un("0"),"0"===i?(d=v[0].grid[0][1],c=v[i].grid[o][r],an("0",d,c,!1,!1,u)):hn("0",1,0,i,r,o,u)})}function fn(n,e,t,i,r,o,u){$(".grid-box").removeClass("start end waypoint path"),$("#stairs").hide().html('<span class="glyphicon glyphicon-circle-arrow-up" aria-hidden="true"></span>'),$("#building").hide().html('<span class="glyphicon glyphicon-circle-arrow-up" aria-hidden="true"></span>'),un(n);var d=t,c=e,a=r,l=o,g=0,h=0;g=v[n].grid[d][c],n===i?an(i,g,h=v[i].grid[l][a],!1,!1,u):"3"!==n&&"3"!==i?hn(n,e,t,i,r,o,u):"3"!==n&&"3"===i?sn(n,e,t,i,r,o,u):"3"!==n||"0"!==i&&"1"!==i&&"2"!==i||pn(n,e,t,i,r,o,u)}function mn(n,e){var t=!0;fn(n[0],n[1],n[2],e[0],e[1],e[2],!0)}function $n(){var n,e,t,i,r,o,u,d,c,a;for(c="room-list-start-e",a="room-list-end-e",n=document.getElementById(c),e="0,5,15",u=0;u<n.options.length;u+=1)"0,5,15"===(r=n.options[u]).value?r.selected=!0:r.selected=!1;for(t=document.getElementById(a),i="0,5,15",d=0;d<t.options.length;d+=1)(o=t.options[d]).value===i?o.selected=!0:o.selected=!1}function vn(){var n,e,t="",i="",r="",o="",u=!0,d=0,c="";for(n=document.getElementById("room-list-start-e"),e=document.getElementById("room-list-end-e"),n.innerHTML+='<option value="">Wählen oder Nummer eingeben</option>',e.innerHTML+='<option value="">Wählen oder Nummer eingeben</option>',d=0;d<levelsE.length;d++){var a=levelsE[d];"0"===a[1]&&""===t?(c="Erdgeschoß",t="full"):"1"===a[1]&&""===i?(c="1. Obergeschoß",i="full"):"2"===a[1]&&""===r?(c="2. Obergeschoß",r="full"):"3"===a[1]&&""===o&&(c="TechLab",o="full"),null!==c&&(u?u=!1:(n.innerHTML+="</optgroup>",e.innerHTML+="</optgroup>"),n.innerHTML+='<optgroup label="'+c+'">',e.innerHTML+='<optgroup label="'+c+'">',c=null),n.innerHTML+="<option value="+a[1]+","+a[3]+","+a[2]+">"+a[0]+"</option>",e.innerHTML+="<option value="+a[1]+","+a[3]+","+a[2]+">"+a[0]+"</option>"}}function Mn(n){var e,t,i,r="undefined,undefined,undefined",o;e=document.getElementById("room-list-start-e").value,t=document.getElementById("room-list-end-e").value,e===r&&t===r?alert("ACHTUNG! Du hast weder den Startraum noch den Zielraum ausgewählt!"):e===r?alert("ACHTUNG! Du hast keinen Startraum ausgewählt!"):t===r?alert("ACTUNG! Du hast keinen Zielraum ausgewählt!"):e===t?alert("Der Start- und Zielraum sind ident! Bitte zwei unterschiedliche Räume wählen!"):mn(e.split(","),t.split(","))}return function(){var n;$("#btnSearchE").on("click touchend",Mn),vn(),un("0"),(T=$("#room-list-start-e")).selectize(),(k=$("#room-list-end-e")).selectize()}(),{search:mn}};